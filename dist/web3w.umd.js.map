{"version":3,"file":"web3w.umd.js","sources":["../src/utils/log.js","../src/utils/store.js","../src/utils/builtin.js","../src/utils/index.js","../src/utils/ethers.js","../src/index.js"],"sourcesContent":["export function makeLog(log) {\n  if (!log) {\n    return voidLog;\n  }\n\n  if (log === console) {\n    return {\n      trace: log.trace,\n      debug: log.trace,\n      info: log.info,\n      warn: log.warn,\n      error: log.error,\n      fatal: log.fatal,\n      silent: log.log,\n    };\n  }\n  let defaultLog =\n    log.fatal ||\n    log.error ||\n    log.warn ||\n    log.info ||\n    log.debug ||\n    log.silent ||\n    log.log;\n  if (!defaultLog) {\n    defaultLog = console.log.bind(console);\n  } else {\n    defaultLog = defaultLog.bind(log);\n  }\n  return {\n    trace: log.trace ? log.trace.bind(log) : defaultLog,\n    debug: log.debug ? log.debug.bind(log) : defaultLog,\n    info: log.info ? log.info.bind(log) : defaultLog,\n    warn: log.warn ? log.warn.bind(log) : defaultLog,\n    error: log.error ? log.error.bind(log) : defaultLog,\n    fatal: log.fatal ? log.fatal.bind(log) : defaultLog,\n    silent: log.silent ? log.silent.bind(log) : defaultLog,\n  };\n}\n\nexport const voidLog = {\n  trace: () => {},\n  debug: () => {},\n  info: () => {},\n  warn: () => {},\n  error: () => {},\n  fatal: () => {},\n  silent: () => {},\n};\n","function noop() {}\nfunction safe_not_equal(a, b) {\n  return a != a\n    ? b == b\n    : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\n// global queue\nconst subscriber_queue = [];\nexport function writable(value, start) {\n  if (!start) {\n    start = noop;\n  }\n  let stop;\n  const subscribers = [];\n\n  function set(new_value) {\n    if (safe_not_equal(value, new_value)) {\n      value = new_value;\n      if (stop) {\n        // store is ready\n        const run_queue = !subscriber_queue.length;\n        for (let i = 0; i < subscribers.length; i += 1) {\n          const s = subscribers[i];\n          s[1]();\n          subscriber_queue.push(s, value);\n        }\n        if (run_queue) {\n          for (let i = 0; i < subscriber_queue.length; i += 2) {\n            subscriber_queue[i][0](subscriber_queue[i + 1]);\n          }\n          subscriber_queue.length = 0;\n        }\n      }\n    }\n  }\n\n  function update(fn) {\n    set(fn(value));\n  }\n\n  function subscribe(run, invalidate) {\n    if (!invalidate) {\n      invalidate = noop;\n    }\n    const subscriber = [run, invalidate];\n    subscribers.push(subscriber);\n    if (subscribers.length === 1) {\n      stop = start(set) || noop;\n    }\n    run(value);\n\n    return () => {\n      const index = subscribers.indexOf(subscriber);\n      if (index !== -1) {\n        subscribers.splice(index, 1);\n      }\n      if (subscribers.length === 0) {\n        stop();\n        stop = null;\n      }\n    };\n  }\n\n  return {set, update, subscribe};\n}\n\nexport class Store {\n  constructor(value, start) {\n    this.value = value;\n    this._start = start || noop;\n    this._stop = undefined;\n    this._subscribers = [];\n  }\n\n  set(new_value) {\n    if (safe_not_equal(this.value, new_value)) {\n      this.value = new_value;\n      if (this._stop) {\n        // store is ready\n        const run_queue = !subscriber_queue.length;\n        for (let i = 0; i < this._subscribers.length; i += 1) {\n          const s = this._subscribers[i];\n          s[1]();\n          subscriber_queue.push(s, value);\n        }\n        if (run_queue) {\n          for (let i = 0; i < subscriber_queue.length; i += 2) {\n            subscriber_queue[i][0](subscriber_queue[i + 1]);\n          }\n          subscriber_queue.length = 0;\n        }\n      }\n    }\n  }\n\n  update(fn) {\n    this.set(fn(value));\n  }\n  subscribe(run, invalidate) {\n    if (!invalidate) {\n      invalidate = noop;\n    }\n    const subscriber = [run, invalidate];\n    this._subscribers.push(subscriber);\n    if (this._subscribers.length === 1) {\n      this._stop = this.start(set) || noop;\n    }\n    run(value);\n\n    return () => {\n      const index = this._subscribers.indexOf(subscriber);\n      if (index !== -1) {\n        this._subscribers.splice(index, 1);\n      }\n      if (this._subscribers.length === 0) {\n        this._stop();\n        this._stop = null;\n      }\n    };\n  }\n}\n","export function getEthereum() {\n  if (typeof window !== 'undefined') {\n    if (window.ethereum) {\n      return window.ethereum;\n    } else if (window.web3) {\n      return window.web3.currentProvider;\n    }\n  }\n  return null;\n}\n\nexport function fetchEthereum() {\n  // TODO test with document.readyState !== 'complete' || document.readyState === 'interactive'\n  return new Promise((resolve, reject) => {\n    if (document.readyState !== 'complete') {\n      document.onreadystatechange = function () {\n        if (document.readyState === 'complete') {\n          document.onreadystatechange = null;\n          resolve(getEthereum());\n        }\n      };\n    } else {\n      resolve(getEthereum());\n    }\n  });\n}\n\nexport function getVendor(ethereum) {\n  if (!ethereum) {\n    return undefined;\n  } else if (ethereum.isMetaMask) {\n    return 'Metamask';\n  } else if (\n    navigator.userAgent.indexOf('Opera') != -1 ||\n    navigator.userAgent.indexOf('OPR/') != -1\n  ) {\n    return 'Opera';\n  } else {\n    return 'unknown';\n  }\n  // TODO\n}\n","export function timeout(time, p, config) {\n  return new Promise((resolve, reject) => {\n    let _timedOut = false;\n    const timer = setTimeout(() => {\n      _timedOut = true;\n      if (!config) {\n        reject(new Error('TimedOut'));\n      } else {\n        if (typeof config === 'function') {\n          resolve(config());\n        } else {\n          reject(config.error || config);\n        }\n      }\n    }, time);\n    p.then((v) => {\n      if (!_timedOut) {\n        clearTimeout(timer);\n        resolve(v);\n      } // TODO else console.log\n    }).catch((e) => {\n      if (!_timedOut) {\n        clearTimeout(timer);\n        reject(e);\n      } // TODO else console.log\n    });\n  });\n}\n","const noop = () => {};\n\n// export function virtualContracts(onContractsRequested, observers) {\n//   observers = observers ? {...observers} : {};\n//   observers = {\n//     onContractTxRequested: observers.onContractTxRequested || noop,\n//     onContractTxCancelled: observers.onContractTxCancelled || noop,\n//     onContractTxSent: observers.onContractTxSent || noop,\n//   }\n//   const {onContractTxRequested, onContractTxCancelled, onContractTxSent} = observers;\n\n//   const fakeContracts = {};\n//   return new Proxy(fakeContracts, {\n//     get: (obj, contractName) => {\n\n//       if (prop === \"functions\") {\n//         return functionsProxy;\n//       } else if (contractToProxy.functions[prop]) {\n//         return proxyCall(contractToProxy.functions, prop);\n//       } else {\n//         return obj[prop];\n//       }\n//     }\n//   });\n// }\n\nexport function proxyContract(contractToProxy, name, observers) {\n  observers = observers ? {...observers} : {};\n  observers = {\n    onContractTxRequested: observers.onContractTxRequested || noop,\n    onContractTxCancelled: observers.onContractTxCancelled || noop,\n    onContractTxSent: observers.onContractTxSent || noop,\n  };\n  const {\n    onContractTxRequested,\n    onContractTxCancelled,\n    onContractTxSent,\n  } = observers;\n  const proxies = {};\n\n  const functionsInterface = contractToProxy.interface.functions;\n  const nameToSig = {};\n  for (const sig of Object.keys(functionsInterface)) {\n    nameToSig[functionsInterface[sig].name] = sig;\n  }\n\n  const contract = {};\n  for (const key of Object.keys(contractToProxy)) {\n    // TODO populate when contract become available\n    contract[key] = contractToProxy[key];\n  }\n  contract.functions = {};\n  for (const key of Object.keys(contractToProxy.functions)) {\n    contract.functions[key] = contractToProxy.functions[key];\n  }\n\n  // TODO remove:\n  // contract._original = contractToProxy;\n\n  function proxyCall(functions, methodName) {\n    let callProxy = proxies[methodName];\n    if (!callProxy) {\n      let methodInterface = contractToProxy.interface.functions[methodName];\n      if (!methodInterface) {\n        methodInterface =\n          contractToProxy.interface.functions[nameToSig[methodName]];\n      }\n\n      callProxy = new Proxy(functions[methodName], {\n        // TODO empty object (to populate later when contract is available ?)\n        apply: async (method, thisArg, argumentsList) => {\n          const numArguments = argumentsList.length;\n          let overrides;\n          if (\n            numArguments === methodInterface.inputs.length + 1 &&\n            typeof argumentsList[numArguments - 1] === 'object'\n          ) {\n            overrides = argumentsList[numArguments];\n          }\n          let outcome;\n          if (overrides) {\n            outcome = overrides.outcome;\n            delete overrides.outcome;\n          }\n          onContractTxRequested({name, method: methodName, overrides, outcome});\n          let tx;\n          try {\n            tx = await method.bind(functions)(...argumentsList);\n          } catch (e) {\n            onContractTxCancelled({\n              name,\n              method: methodName,\n              overrides,\n              outcome,\n            }); // TODO id to identify?\n            throw e;\n          }\n          onContractTxSent({\n            hash: tx.hash,\n            name,\n            method: methodName,\n            overrides,\n            outcome,\n          });\n          return tx;\n        },\n      });\n      proxies[methodName] = callProxy;\n    }\n    return callProxy;\n  }\n  const functionsProxy = new Proxy(contract.functions, {\n    get: (functions, methodName) => {\n      return proxyCall(contractToProxy.functions, methodName); // TODO empty\n    },\n  });\n\n  return new Proxy(contract, {\n    get: (obj, prop) => {\n      if (prop === 'functions') {\n        return functionsProxy;\n      } else if (contractToProxy.functions[prop]) {\n        return proxyCall(contractToProxy.functions, prop);\n      } else if (prop === '_proxiedContract') {\n        return contractToProxy;\n      } else {\n        return obj[prop]; // TODO prototype access ?\n      }\n    },\n  });\n}\n\nfunction proxySigner(\n  signer,\n  applyMap,\n  {\n    onTxRequested,\n    onTxCancelled,\n    onTxSent,\n    onSignatureRequested,\n    onSignatureCancelled,\n    onSignatureReceived,\n  }\n) {\n  applyMap = Object.assign(\n    {\n      sendTransaction: async (method, thisArg, argumentsList) => {\n        onTxRequested(argumentsList[0]);\n        let tx;\n        try {\n          tx = await method.bind(thisArg)(...argumentsList);\n        } catch (e) {\n          onTxCancelled(argumentsList[0]);\n          throw e;\n        }\n        onTxSent(tx);\n        return tx;\n      },\n      signMessage: async (method, thisArg, argumentsList) => {\n        onSignatureRequested(argumentsList[0]);\n        let signature;\n        try {\n          signature = await method.bind(thisArg)(...argumentsList);\n        } catch (e) {\n          onSignatureCancelled(argumentsList[0]);\n          throw e;\n        }\n        onSignatureReceived(signature);\n        return signature;\n      },\n    },\n    applyMap\n  );\n  const proxies = {};\n\n  function getProxy(methodName, handler) {\n    let proxy = proxies[methodName];\n    if (!proxy) {\n      proxy = new Proxy(signer[methodName], handler);\n      proxies[methodName] = proxy;\n    }\n    return proxy;\n  }\n\n  return new Proxy(signer, {\n    get: (obj, prop) => {\n      const applyFunc = applyMap[prop];\n      if (applyFunc) {\n        return getProxy(prop, {\n          apply: applyFunc,\n        });\n      } else {\n        return obj[prop];\n      }\n    },\n  });\n}\n\nfunction proxyUncheckedJsonRpcSigner(signer, observers) {\n  return proxySigner(signer, {}, observers);\n}\n\nfunction proxyJsonRpcSigner(signer, observers) {\n  return proxySigner(\n    signer,\n    {\n      connectUnchecked: (method, thisArg, argumentsList) => {\n        const signer = method.bind(thisArg)(...argumentsList);\n        return proxyUncheckedJsonRpcSigner(signer, observers);\n      },\n    },\n    observers\n  );\n}\n\nexport function proxyWeb3Provider(provider, observers) {\n  observers = observers ? {...observers} : {};\n  observers = {\n    onTxRequested: observers.onTxRequested || noop,\n    onTxCancelled: observers.onTxCancelled || noop,\n    onTxSent: observers.onTxSent || noop,\n    onSignatureRequested: observers.onSignatureRequested || noop,\n    onSignatureCancelled: observers.onSignatureCancelled || noop,\n    onSignatureReceived: observers.onSignatureReceived || noop,\n  };\n  const getSignerProxy = new Proxy(provider.getSigner, {\n    // TODO wallet.connect on demand if not Ready // error out if not accepted // special state ?\n    apply: (getSigner, thisArg, argumentsList) => {\n      const signer = getSigner.bind(provider)(...argumentsList);\n      return proxyJsonRpcSigner(signer, observers);\n    },\n  });\n\n  return new Proxy(provider, {\n    get: (obj, prop) => {\n      if (prop === 'getSigner') {\n        return getSignerProxy;\n      } else if (prop === 'signMessage') {\n        return getSignerProxy;\n      } else if (prop === 'sendTransaction') {\n        return getSignerProxy;\n      } else if (prop === 'connectUnchecked') {\n        return getSignerProxy;\n      } else {\n        return obj[prop];\n      }\n    },\n  });\n}\n","// import { isPrivateWindow } from './utils/web';\n// import {Wallet} from \"@ethersproject/wallet\";\nimport {Contract} from '@ethersproject/contracts';\nimport {Web3Provider} from '@ethersproject/providers';\nimport {makeLog} from './utils/log';\nimport {writable} from './utils/store';\nimport {fetchEthereum, getVendor} from './utils/builtin';\nimport {timeout} from './utils/index.js';\nimport {proxyContract, proxyWeb3Provider} from './utils/ethers';\nlet logger;\n\nconst isBrowser = typeof window != 'undefined';\n\nconst $builtin = {\n  state: undefined, // Idle | Ready\n  loading: false,\n  available: undefined,\n  error: undefined,\n  vendor: undefined,\n};\n\nconst $balance = {\n  state: undefined, // Idle | Ready\n  loading: false,\n  stale: undefined,\n  amount: undefined,\n  error: undefined,\n  blockNumber: undefined,\n};\n\nconst $chain = {\n  state: undefined, // Idle | Loading | Ready\n  loading: false,\n  contracts: {},\n};\n\nconst $wallet = {\n  state: undefined, // Idle | Locked | Ready\n  loading: false,\n  unlocking: undefined,\n\n  address: undefined,\n\n  options: undefined, // wallet Types available\n  selected: undefined,\n\n  error: undefined,\n\n  pendingUserConfirmation: undefined, // [] array of type of request\n};\n\nfunction store(data) {\n  const result = writable(data);\n  result.data = data;\n  return result;\n}\n\nconst $transactions = [];\nconst walletStore = store($wallet);\nconst transactionsStore = store($transactions);\nconst builtinStore = store($builtin);\nconst chainStore = store($chain);\nconst balanceStore = store($balance);\n\nfunction addTransaction(obj) {\n  $transactions.push(obj);\n  transactionsStore.set($transactions);\n}\n\nfunction set(store, obj) {\n  for (let key of Object.keys(obj)) {\n    if (store.data[key] && typeof obj[key] === 'object') {\n      for (let subKey of Object.keys(obj[key])) {\n        // TODO recursve\n        store.data[key][subKey] = obj[key][subKey];\n      }\n    } else {\n      store.data[key] = obj[key];\n    }\n  }\n  // TODO remove try catch\n  try {\n    logger.debug(JSON.stringify(store.data, null, '  '));\n  } catch (e) {\n    console.error(e);\n  }\n  store.set(store.data);\n}\n\nfunction reset(store, fields) {\n  if (typeof fields === 'string') {\n    fields = [fields];\n  }\n  for (const field of fields) {\n    const current = $wallet[field];\n    if (typeof current === 'object') {\n      store.data[field] = {status: undefined};\n    } else {\n      store.data[field] = undefined;\n    }\n  }\n  store.set(store.data);\n}\n// //////////////////////////////////////////////////////////////////////////////\n\nlet _ethersProvider;\nlet _web3Provider;\nlet _builtinEthersProvider;\nlet _builtinWeb3Provider;\nlet _chainConfigs;\nlet _currentModule;\nlet _options;\n\n\nfunction onChainChanged() {\n  console.log(\"onChainChanged\", arguments);\n}\n\nfunction onAccountsChanged() {\n  console.log(\"onAccountsChanged\", arguments);\n}\n\nfunction listenForChanges(address) {\n  if (_web3Provider) {\n    console.log('listenning for changes...');\n    _web3Provider.on('chainChanged', onChainChanged);\n    _web3Provider.on('accountsChanged', onAccountsChanged);\n  }\n}\n\nfunction stopListeningForChanges() {\n  if (_web3Provider) {\n    console.log('stop listenning for changes...');\n    _web3Provider.removeListener('chainChanged', onChainChanged);\n    _web3Provider.removeListener('accountsChanged', onAccountsChanged);\n  }\n}\n\nfunction onConnect() {\n  console.log(\"onConnect\", arguments);\n}\n\nfunction onDisconnect() {\n  console.log(\"onDisconnect\", arguments);\n}\n\nfunction listenForConnection() {\n  if (_web3Provider) {\n    console.log('listenning for connection...');\n    _web3Provider.on('connect', onConnect);\n    _web3Provider.on('disconnect', onDisconnect);\n  }\n}\n\nfunction stopListeningForConnection() {\n  if (_web3Provider) {\n    console.log('stop listenning for connection...');\n    _web3Provider.removeListener('connect', onConnect);\n    _web3Provider.removeListener('disconnect', onDisconnect);\n  }\n}\n\nfunction isHex(value) {\n  return (\n    typeof value === 'string' &&\n    value.length > 2 &&\n    value.slice(0, 2).toLowerCase() === '0x'\n  );\n}\n\nfunction toDecimal(value) {\n  if (isHex(value)) {\n    return '' + parseInt(value.slice(2));\n  }\n  return value;\n}\n\nfunction toHex(value) {\n  if (isHex(value)) {\n    return value;\n  }\n  return '0x' + parseInt(value).toString(16);\n}\n\nfunction requestUserAttention(type) {\n  if ($wallet.pendingUserConfirmation) {\n    $wallet.pendingUserConfirmation.push(type);\n  } else {\n    $wallet.pendingUserConfirmation = [type];\n  }\n  set(walletStore, {pendingUserConfirmation: $wallet.pendingUserConfirmation});\n}\nfunction cancelUserAttention(type) {\n  if ($wallet.pendingUserConfirmation) {\n    const index = $wallet.pendingUserConfirmation.indexOf(type);\n    if (index >= 0) {\n      $wallet.pendingUserConfirmation.splice(index, 1);\n      if ($wallet.pendingUserConfirmation.length === 0) {\n        $wallet.pendingUserConfirmation = undefined;\n      }\n      set(walletStore, {pendingUserConfirmation: $wallet.pendingUserConfirmation});\n    }\n  }\n}\n\nconst _observers = {\n  onTxRequested: (transaction) => {\n    requestUserAttention('transaction');\n  },\n  onTxCancelled: (error) => {\n    cancelUserAttention('transaction');\n  },\n  onTxSent: (tx) => {\n    cancelUserAttention('transaction');\n  },\n  onSignatureRequested: (message) => {\n    requestUserAttention('signature');\n  },\n  onSignatureCancelled: (error) => {\n    cancelUserAttention('signature');\n  },\n  onSignatureReceived: (signature) => {\n    cancelUserAttention('signature');\n  },\n  onContractTxRequested: ({name, method, overrides, outcome}) => {\n    // console.log(\"onContractTxRequest\", {name, method, overrides, outcome});\n  },\n  onContractTxCancelled: (error) => {},\n  onContractTxSent: ({hash, name, method, overrides, outcome}) => {\n    // console.log('onContractTxSent', {hash, name, method, overrides, outcome});\n    if (hash) {\n      addTransaction({hash, name, method, overrides, outcome});\n    } else {\n      logger.log('onContractTxSent', {hash, name, method, overrides, outcome});\n    }\n  },\n};\n\nconst LOCAL_STORAGE_SLOT = '_web3w_previous_wallet_type';\nfunction recordSelection(type) {\n  localStorage.setItem(LOCAL_STORAGE_SLOT, type);\n}\n\nfunction fetchPreviousSelection() {\n  return localStorage.getItem(LOCAL_STORAGE_SLOT);\n}\n\nasync function setupChain(address) {\n  set(chainStore, {loading: true});\n\n  let contractsToAdd = {};\n  let addresses = {};\n  let contractsInfos = {};\n  const {chainId} = await _ethersProvider.getNetwork();\n  let chainConfigs = _chainConfigs;\n  if (typeof chainConfigs === 'function') {\n    chainConfigs = await chainConfigs(chainId);\n  }\n  if (chainConfigs) { \n    if (chainConfigs.chainId) {\n      if (\n        chainId == chainConfigs.chainId ||\n        chainId == toDecimal(chainConfigs.chainId)\n      ) {\n        contractsInfos = chainConfigs.contracts;\n      } else {\n        const error = {\n          message: `chainConfig only available for ${chainConfigs.chainId} , not available for ${chainId}`,\n        };\n        set(chainStore, {\n          error,\n          chainId,\n          notSupported: true,\n          loading: false,\n          state: 'Idle',\n        });\n        throw new Error(error.message);\n      }\n    } else {\n      const chainConfig = chainConfigs[chainId] || chainConfigs[toHex(chainId)];\n      if (!chainConfig) {\n        const error = {message: `chainConfig not available for ${chainId}`};\n        set(chainStore, {\n          error,\n          chainId,\n          notSupported: true,\n          loading: false,\n          state: 'Idle',\n        });\n        throw new Error(error.message);\n      } else {\n        contractsInfos = chainConfig.contracts;\n      }\n    }\n    for (const contractName of Object.keys(contractsInfos)) {\n      if (contractName === 'status') {\n        const error = {message: `invalid name for contract : \"status\"`};\n        set(chainStore, {error, state: 'Idle', loading: false});\n        throw new Error(error.message);\n      }\n      if (contractName === 'error') {\n        const error = {message: `invalid name for contract : \"error\"`};\n        set(chainStore, {error, state: 'Idle', loading: false});\n        throw new Error(error.message);\n      }\n      const contractInfo = contractsInfos[contractName];\n      if (contractInfo.abi) {\n        contractsToAdd[contractName] = proxyContract(\n          new Contract(\n            contractInfo.address,\n            contractInfo.abi,\n            _ethersProvider.getSigner(address)\n          ),\n          contractName,\n          _observers\n        );\n      }\n      addresses[contractName] = contractInfo.address;\n    }\n  }\n  set(chainStore, {\n    state: 'Ready',\n    loading: undefined,\n    chainId,\n    addresses,\n    contracts: {\n      ...contractsToAdd,\n      toJSON() {\n        const obj = {};\n        for (const contractName of Object.keys(contractsInfos)) {\n          obj[contractName] = {\n            address: contractsInfos[contractName].address,\n            abi: contractsInfos[contractName].abi,\n          };\n        }\n        return obj;\n      },\n    },\n  }); // TODO None ?\n}\n\nasync function select(type, config) {\n  if (\n    $wallet.selected &&\n    ($wallet.state === 'Ready' || $wallet.state === 'Locked')\n  ) {\n    await logout();\n  }\n\n  if (!type) {\n    if (_options.length === 0) {\n      type = 'builtin';\n    } else if (_options.length === 1) {\n      type = _options[0];\n    } else {\n      const message = `No Wallet Type Specified, choose from ${$wallet.options}`;\n      // set(walletStore, {error: {message, code: 1}}); // TODO code\n      throw new Error(message);\n    }\n  }\n  if (type == 'builtin' && $builtin.state === 'Ready' && !$builtin.available) {\n    const message = `No Builtin Wallet`;\n    // set(walletStore, {error: {message, code: 1}}); // TODO code\n    throw new Error(message);\n  } // TODO other type: check if module registered\n\n  set(walletStore, {\n    address: undefined,\n    loading: true,\n    selected: type,\n    state: 'Idle',\n    error: undefined,\n  });\n  _ethersProvider = null;\n  _web3Provider = null;\n  if (type === 'builtin') {\n    _currentModule = undefined;\n    await probeBuiltin(); // TODO try catch ?\n    _ethersProvider = _builtinEthersProvider;\n    _web3Provider = _builtinWeb3Provider;\n  } else {\n    let module;\n    if (typeof type === 'string') {\n      if (_options) {\n        for (const choice of _options) {\n          if (typeof choice !== 'string' && choice.id === type) {\n            module = choice;\n          }\n        }\n      }\n    } else {\n      module = type;\n      type = module.id;\n    }\n\n    try {\n      const {chainId, web3Provider} = await module.setup(config); // TODO pass config in select to choose network\n      _web3Provider = web3Provider;\n      _ethersProvider = proxyWeb3Provider(\n        new Web3Provider(_web3Provider),\n        _observers\n      );\n      _currentModule = module;\n    } catch (e) {\n      if (e.message === 'USER_CANCELED') {\n        set(walletStore, {loading: false, selected: undefined});\n      } else {\n        set(walletStore, {\n          error: {message: e.message},\n          selected: undefined,\n          loading: false,\n        });\n      }\n      throw e;\n    }\n  }\n\n  if (!_ethersProvider) {\n    const message = `no provider found for wallet type ${type}`;\n    set(walletStore, {\n      error: {message, code: 1},\n      selected: undefined,\n      loading: false,\n    }); // TODO code\n    throw new Error(message);\n  }\n\n  listenForConnection();\n\n  let accounts;\n  try {\n    if (type === 'builtin' && $builtin.vendor === 'Metamask') {\n      accounts = await timeout(2000, _ethersProvider.listAccounts(), {\n        error: `Metamask timed out. Please reload the page (see <a href=\"https://github.com/MetaMask/metamask-extension/issues/7221\">here</a>)`,\n      }); // TODO timeout checks (metamask, portis)\n    } else {\n      // TODO timeout warning\n      accounts = await timeout(20000, _ethersProvider.listAccounts());\n    }\n  } catch (e) {\n    set(walletStore, {error: e, selected: undefined, loading: false});\n    throw e;\n  }\n  // console.log({accounts});\n  recordSelection(type);\n  const address = accounts && accounts[0];\n  if (address) {\n    set(walletStore, {\n      address,\n      state: 'Ready',\n      loading: undefined,\n    });\n    listenForChanges(address);\n    await setupChain(address);\n  } else {\n    set(walletStore, {\n      address: undefined,\n      state: 'Locked',\n      loading: undefined,\n    });\n  }\n}\n\nlet probing;\nfunction probeBuiltin(config = {}) {\n  if (probing) {\n    return probing;\n  }\n  probing = new Promise(async (resolve, reject) => {\n    if ($builtin.state === 'Ready') {\n      return resolve();\n    }\n    set(builtinStore, {loading: true});\n    try {\n      let ethereum = await fetchEthereum();\n      if (ethereum) {\n        _builtinWeb3Provider = ethereum;\n        _builtinEthersProvider = proxyWeb3Provider(\n          new Web3Provider(ethereum),\n          _observers\n        );\n        set(builtinStore, {\n          state: 'Ready',\n          vendor: getVendor(ethereum),\n          available: true,\n          loading: undefined,\n        });\n        // if (config.metamaskReloadFix && $wallet.builtin.vendor === \"Metamask\") {\n        //   // see https://github.com/MetaMask/metamask-extension/issues/7221\n        //   await timeout(1000, _builtinEthersProvider.send(\"eth_chainId\", []), () => {\n        //     // window.location.reload();\n        //     console.log('RELOAD');\n        //   });\n        // }\n      } else {\n        set(builtinStore, {\n          state: 'Ready',\n          vendor: undefined,\n          available: false,\n          loading: undefined,\n        });\n      }\n    } catch (e) {\n      set(builtinStore, {\n        error: e.message || e,\n        vendor: undefined,\n        available: undefined,\n        loading: false,\n      });\n      return reject(e);\n    }\n    resolve();\n  });\n  return probing;\n}\n\n// function autoSelect() {\n//   if (!$wallet.options || $wallet.options.length === 0 || ($wallet.options.length === 1 && $wallet.options[0] === \"builtin\")) {\n//    // try to get account directly if possible (TODO: need to handle Opera quircks, also Brave)\n//     return select({\n//       provider: builtinProvider,\n//       type: \"builtin\"\n//     });\n//   }\n// }\n\nasync function connect(type) {\n  await select(type);\n  if ($wallet.state === 'Locked') {\n    return unlock();\n  }\n  return true;\n}\n\nfunction acknowledgeError(field) {\n  if (!field) {\n    // TODO think more\n  } else if (field === 'builtin') {\n    // TODO\n  }\n  // TODO other:\n  logout();\n}\n\nasync function logout() {\n  stopListeningForChanges();\n  stopListeningForConnection();\n  if (_currentModule) {\n    await _currentModule.logout();\n    _currentModule = null;\n  }\n  set(walletStore, {\n    state: 'Idle',\n    address: undefined,\n    loading: false,\n    unlocking: undefined,\n    selected: undefined,\n    error: undefined,\n  });\n  set(balanceStore, {\n    state: 'Idle',\n    amount: undefined,\n    error: undefined,\n    blockNumber: undefined,\n  });\n  set(chainStore, {\n    contracts: undefined,\n    state: 'Idle',\n    notSupported: undefined,\n    chainId: undefined,\n    error: undefined,\n  });\n  recordSelection('');\n}\n\nlet unlocking;\nfunction unlock() {\n  if (unlocking) {\n    return unlocking;\n  }\n  let resolved = false;\n  const p = new Promise(async (resolve, reject) => {\n    // TODO Unlocking to retry // TODO add timeout\n    if ($wallet.state === 'Locked') {\n      set(walletStore, {unlocking: true});\n      let accounts;\n      try {\n        accounts = await _ethersProvider.send('eth_requestAccounts', []);\n      } catch (e) {\n        accounts = [];\n      }\n      if (accounts.length > 0) {\n        const address = accounts[0];\n        set(walletStore, {\n          address,\n          state: 'Ready',\n          unlocking: undefined,\n        });\n        await setupChain(address); // TODO try catch ?\n      } else {\n        set(walletStore, {unlocking: false});\n        unlocking = null;\n        resolved = true;\n        return resolve(false);\n      }\n      unlocking = null;\n      resolved = true;\n      return resolve(true);\n    } else {\n      resolved = true;\n      return reject(new Error(`Not Locked`));\n    }\n  });\n  if (!resolved) {\n    unlocking = p;\n  }\n  return p;\n}\n\n// /////////////////////////////////////////////////////////////////////////////////\nexport default (config) => {\n  config = {...(config || {})};\n  config.builtin = config.builtin || {};\n  const {log, debug, chainConfigs, builtin} = config;\n\n  _chainConfigs = chainConfigs;\n  logger = makeLog(log);\n  if (debug && typeof window !== 'undefined') {\n    window.$wallet = $wallet;\n    window.$transactions = $transactions;\n  }\n\n  _options = config.options || [];\n  set(walletStore, {\n    state: 'Idle',\n    options: _options.map((m) => {\n      if (typeof m === 'object') {\n        if (!m.id) {\n          throw new Error('options need to be string or have an id', m);\n        }\n        return m.id;\n      }\n      return m;\n    }),\n  });\n  set(builtinStore, {\n    state: 'Idle',\n  });\n  set(chainStore, {\n    state: 'Idle',\n  });\n  set(balanceStore, {\n    state: 'Idle',\n  });\n\n  if (isBrowser) {\n    if (config.autoSelectPrevious) {\n      const type = fetchPreviousSelection();\n      if (type && type !== '') {\n        select(type);\n      }\n    }\n    if (config.builtin.autoProbe) {\n      probeBuiltin(config.builtin);\n    }\n  }\n\n  return {\n    transactions: {\n      subscribe: transactionsStore.subscribe,\n    },\n    balance: {\n      subscribe: balanceStore.subscribe,\n    },\n    chain: {\n      subscribe: chainStore.subscribe,\n    },\n    builtin: {\n      subscribe: builtinStore.subscribe,\n      probe: probeBuiltin,\n    },\n    wallet: {\n      subscribe: walletStore.subscribe,\n      connect,\n      unlock,\n      acknowledgeError,\n      logout,\n      get address() {\n        return $wallet.address;\n      },\n      get provider() {\n        return _ethersProvider;\n      },\n      get web3Provider() {\n        return _web3Provider;\n      },\n      get chain() {\n        return $chain;\n      },\n      get contracts() {\n        return $chain.contracts;\n      },\n      get balance() {\n        return $balance.amount;\n      },\n      // get fallBackProvider() {\n      //   return _fallBackProvider;\n      // }\n    },\n  };\n};\n"],"names":["noop","Contract","Web3Provider"],"mappings":"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"}