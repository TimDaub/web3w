{"version":3,"sources":["index.js"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","factory","module","exports","v","require","undefined","define","amd","Object","defineProperty","contracts_1","providers_1","abi_1","store_1","builtin_1","utils_1","ethers_1","named_logs_1","errors_1","logger","logs","isBrowser","window","$builtin","state","probing","available","error","vendor","$balance","fetching","stale","amount","blockNumber","$chain","connecting","loadingData","contracts","$wallet","disconnecting","loadingModule","unlocking","address","options","selected","pendingUserConfirmation","$flow","inProgress","executing","executionError","store","data","writable","$transactions","walletStore","transactionsStore","builtinStore","chainStore","balanceStore","flowStore","LOCAL_STORAGE_TRANSACTIONS_SLOT","LOCAL_STORAGE_PREVIOUS_WALLET_SLOT","set","obj","key","keys","anyObj","anyStore","subKey","debug","JSON","stringify","_ethersProvider","_web3Provider","_builtinWeb3Provider","_chainConfigs","_currentModule","_options","_config","_flowPromise","_flowResolve","_flowReject","_call","_listenning","onChainChanged","chainId","warn","Error","providerSend","chainIdAsDecimal","parseInt","slice","toString","addresses","notSupported","loadTransactions","log","loadChain","hasAccountsChanged","accounts","onAccountsChanged","reAssignContracts","unloadTransactions","provider","method","params","_a","request","sendAsync","bind","response","wait","ms","setTimeout","pollAccountsChanged","web3Provider","callback","listenForChanges","on","pollChainChanged","onConnect","connection","onDisconnect","isHex","length","toLowerCase","requestUserAttention","type","push","cancelUserAttention","index","indexOf","splice","_observers","onTxRequested","txRequest","onTxCancelled","onTxSent","hash","from","gasLimit","nonce","gasPrice","to","submissionBlockTime","tx","addOrChangeTransaction","addTransaction","acknowledged","status","confirmations","finalized","onSignatureRequested","sigRequest","onSignatureCancelled","onSignatureReceived","sigResponse","onContractTxRequested","contractName","overrides","metadata","onContractTxCancelled","onContractTxSent","args","eventsABI","_b","_c","nonceAsNumber","updateTransaction","recordSelection","localStorage","setItem","setupChain","newProviderRequired","ethersProvider","ensureEthersProvider","chainIdAsNumber","getNetwork","code","CHAIN_ID_FAILED","message","String","CHAIN_ID_NOT_SET","contractsToAdd","contractsInfos","chainConfigs","chainConfig","CHAIN_CONFIG_NOT_AVAILABLE","multichainConfigs","toHex","contractInfo","abi","proxyContract","Contract","getSigner","oldFlowResolve","catch","err","CHAIN_NO_PROVIDER","proxyWeb3Provider","Web3Provider","connect","select","moduleConfig","disconnect","typeOrModule","builtinWeb3Provider","probeBuiltin","choice","id","load","setup","MODULE_ERROR","timeout","listAccounts","name","transactionManager","ethereum","fetchEthereum","autoRefreshOnNetworkChange","getVendor","unlock","acknowledgeError","_disconnect","keepFlow","removeListener","config","logout","p","resolved","send","flow_retry","flow","autoUnlock","autoSelect","flow_connect","flow_cancel","flow_execute","func","errorObject","override","find","found","foundAsRecord","txAsRecord","localStorageSlot","lastTransactionsString","getItem","transactions","parse","stopManagingTransactions","txString","listenForTxReceipts","setInterval","pollingPeriod","manageTransactions","clearInterval","txChecking","STABLE_BLOCK_INTERVAL","finality","txs","concat","latestBlock","getBlock","stableNonce","number","getTransactionCount","Math","max","receipt","currentNonce","getTransactionReceipt","updatedTxFields","deleteTx","blockHash","success","events","eventInterface","Interface","reduce","filtered","parsed","parseLog","event","signature","autoDelete","deleteTransaction","lastCheck","timestamp","foundIndex","findIndex","default","builtin","autoProbe","autoSelectPrevious","localStoragePrefix","map","m","fetchPreviousSelection","subscribe","[object Object]","lastAcknowledgment","balance","chain","probe","wallet","execute","retry","cancel"],"mappings":"AAAA,IAAIA,UAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,IAAW,MAAOG,GAAKL,EAAOK,IACpF,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,IAAW,MAAOG,GAAKL,EAAOK,IACvF,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,EAAE,SAAUG,GAAWA,EAAQG,MAITO,KAAKR,EAAWK,GAClGH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,YAGtE,SAAWO,GACP,GAAsB,iBAAXC,QAAiD,iBAAnBA,OAAOC,QAAsB,CAClE,IAAIC,EAAIH,EAAQI,QAASF,cACfG,IAANF,IAAiBF,OAAOC,QAAUC,OAEf,mBAAXG,QAAyBA,OAAOC,KAC5CD,OAAO,CAAC,UAAW,UAAW,2BAA4B,2BAA4B,qBAAsB,gBAAiB,kBAAmB,UAAW,iBAAkB,aAAc,YAAaN,GANhN,CAQG,SAAUI,EAASF,GAClB,aACAM,OAAOC,eAAeP,EAAS,aAAc,CAAEX,OAAO,IACtD,MAAMmB,EAAcN,EAAQ,4BACtBO,EAAcP,EAAQ,4BACtBQ,EAAQR,EAAQ,sBAChBS,EAAUT,EAAQ,iBAClBU,EAAYV,EAAQ,mBACpBW,EAAUX,EAAQ,WAClBY,EAAWZ,EAAQ,kBACnBa,EAAeb,EAAQ,cACvBc,EAAWd,EAAQ,YACnBe,EAASF,EAAaG,KAAK,eAC3BC,EAA6B,oBAAVC,OACnBC,EAAW,CACbC,MAAO,OACPC,SAAS,EACTC,eAAWrB,EACXsB,WAAOtB,EACPuB,YAAQvB,GAENwB,EAAW,CACbL,MAAO,OACPM,UAAU,EACVC,WAAO1B,EACP2B,YAAQ3B,EACRsB,WAAOtB,EACP4B,iBAAa5B,GAEX6B,EAAS,CACXV,MAAO,OACPW,YAAY,EACZC,aAAa,EACbC,eAAWhC,EACXsB,WAAOtB,GAELiC,EAAU,CACZd,MAAO,OACPW,YAAY,EACZI,eAAe,EACfC,eAAe,EACfC,WAAW,EACXC,aAASrC,EACTsC,QAAS,CAAC,WACVC,cAAUvC,EACVwC,6BAAyBxC,EACzBsB,WAAOtB,GAELyC,EAAQ,CACVC,YAAY,EACZC,WAAW,EACXC,oBAAgB5C,EAChBsB,WAAOtB,GAEX,SAAS6C,EAAMC,GACX,MAAMvD,EAASiB,EAAQuC,SAASD,GAEhC,OADAvD,EAAOuD,KAAOA,EACPvD,EAEX,MAAMyD,EAAgB,GAChBC,EAAcJ,EAAMZ,GACpBiB,EAAoBL,EAAMG,GAC1BG,EAAeN,EAAM3B,GACrBkC,EAAaP,EAAMhB,GACnBwB,EAAeR,EAAMrB,GACrB8B,EAAYT,EAAMJ,GACxB,IAAIc,EAAkC,sBAClCC,EAAqC,8BACzC,SAASC,EAAIZ,EAAOa,GAChB,IAAK,MAAMC,KAAOxD,OAAOyD,KAAKF,GAAM,CAEhC,MAAMG,EAASH,EAETI,EAAWjB,EACjB,GAAIiB,EAAShB,KAAKa,IAA+B,iBAAhBE,EAAOF,GACpC,IAAK,MAAMI,KAAU5D,OAAOyD,KAAKC,EAAOF,IAEpCG,EAAShB,KAAKa,GAAKI,GAAUF,EAAOF,GAAKI,QAI7CD,EAAShB,KAAKa,GAAOE,EAAOF,GAGpC,IACI7C,EAAOkD,MAAMC,KAAKC,UAAUrB,EAAMC,KAAM,KAAM,OAElD,MAAOzD,GACHyB,EAAOQ,MAAMjC,EAAGwD,EAAMC,MAE1BD,EAAMY,IAAIZ,EAAMC,MAkBpB,IACIqB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAXAC,GAAc,EAYlB,SAASC,EAAeC,GACpB,OAAOxG,UAAUC,UAAM,OAAQ,EAAQ,YACnC,GAAgB,UAAZuG,EAAqB,CAErB,GADAlE,EAAOmE,KAAK,qDACPb,EACD,MAAM,IAAIc,MAAM,kCAEpBF,QAAgBG,EAAaf,EAAe,eAEhD,MAAMgB,EAAmBC,SAASL,EAAQM,MAAM,GAAI,IAAIC,WACxDzE,EAAOkD,MAAM,iBAAkB,CAAEgB,QAAAA,EAASI,iBAAAA,IAC1C3B,EAAIL,EAAY,CACZpB,eAAWhC,EACXwF,eAAWxF,EACXmB,MAAO,YACP6D,QAASI,EACTK,kBAAczF,IAEdiC,EAAQI,UACRqD,GAAiBzD,EAAQI,QAAS+C,GAClCtE,EAAO6E,IAAI,sCACLC,GAAUR,EAAkBnD,EAAQI,SAAS,MAI/D,SAASwD,EAAmBC,GACxB,OAAOA,EAAS,KAAO7D,EAAQI,QAGnC,SAAS0D,EAAkBD,GACvB,OAAOtH,UAAUC,UAAM,OAAQ,EAAQ,YACnC,IAAKoH,EAAmBC,GAEpB,YADAhF,EAAOkD,MAAM,wBAAyB8B,GAG1ChF,EAAOkD,MAAM,oBAAqB,CAAE8B,SAAAA,IACpC,MAAMzD,EAAUyD,EAAS,GACzB,GAAIzD,EAKA,GAJAoB,EAAIR,EAAa,CAAEZ,QAAAA,EAASlB,MAAO,UAC/BU,EAAOmD,SACPU,GAAiBrD,EAASR,EAAOmD,SAEhB,cAAjBnD,EAAOV,MAAuB,CAC9B,IAAIU,EAAOmD,QAKP,MAAM,IAAIE,MAAM,8BAJhBpE,EAAO6E,IAAI,yCACLC,GAAU/D,EAAOmD,QAAS3C,GAAS,QAO7C2D,GAAkB3D,QAItB4D,KACAxC,EAAIR,EAAa,CAAEZ,QAAAA,EAASlB,MAAO,WACnC6E,GAAkB3D,KAM9B,SAAS8C,EAAae,EAAUC,EAAQC,GACpC,IAAIC,EACJ,GAAIH,EAASI,QACT,OAAOJ,EAASI,QAAQ,CAAEH,OAAAA,EAAQC,OAAAA,IAEtC,MAAMG,EAA0C,QAA7BF,EAAKH,EAASK,iBAA8B,IAAPF,OAAgB,EAASA,EAAGG,KAAKN,GACzF,GAAIK,EACA,OAAO,IAAIzH,QAAQ,CAACC,EAASC,KACzBuH,EAAU,CAAEJ,OAAAA,EAAQC,OAAAA,GAAU,CAAC9E,EAAOmF,KAC9BnF,EACAtC,EAAOsC,GAEFmF,EAASnF,MACdtC,EAAOyH,EAASnF,OAGhBvC,EAAQ0H,EAASlH,YAKjC,MAAM,IAAI2F,MAAM,0BAEpB,SAASwB,EAAKC,GACV,OAAO,IAAI7H,QAASC,IAChB6H,WAAW7H,EAAS4H,KAqB5B,SAASE,EAAoBC,EAAcC,GACvC,OAAOvI,UAAUC,UAAM,OAAQ,EAAQ,YACnC,KAAOqG,GAAa,CAChB,IAAIgB,EAAW,GACf,IACIA,QAAiBX,EAAa2B,EAAc,gBAEhD,MAAOzH,IAEP,GADAyB,EAAOkD,MAAM,CAAE8B,SAAAA,IACXhB,GAAee,EAAmBC,GAElC,IACIiB,EAASjB,GAEb,MAAOzG,GACHyB,EAAOQ,MAAMjC,SAIfqH,EAAK,QAIvB,SAASM,IACD5C,IAAkBU,IAClBhE,EAAO6E,IAAI,cACPvB,EAAc6C,IACd7C,EAAc6C,GAAG,eAAgBlC,GACjCX,EAAc6C,GAAG,kBAAmBlB,GAEpCc,EAAoBzC,EAAe2B,MAhD/C,SAA0Be,EAAcC,GAC7BvI,UAAUC,UAAM,OAAQ,EAAQ,YACnC,KAAOqG,GAAa,CAChB,MAAME,QAAgBG,EAAa2B,EAAc,eAC3C1B,EAAmBC,SAASL,EAAQM,MAAM,GAAI,IAAIC,WACxD,GAAIT,GAAejD,EAAOmD,UAAYI,EAClC,IACI2B,EAAS/B,GAEb,MAAO3F,GACHyB,EAAOQ,MAAMjC,SAIfqH,EAAK,QAsCXQ,CAAiB9C,EAAeW,GAChC8B,EAAoBzC,EAAe2B,IAEvCjB,GAAc,GAYtB,SAASqC,EAAUC,GACf,MAAMpC,EAAUoC,GAAcA,EAAWpC,QACzC,GAAIA,EAAS,CACT,MAAMI,EAAmBC,SAASL,EAAQM,MAAM,GAAI,IAAIC,WACxDzE,EAAOkD,MAAM,YAAa,CAAEgB,QAAAA,EAASI,iBAAAA,SAGrCtE,EAAOmE,KAAK,YAAa,kCAGjC,SAASoC,EAAa/F,GAClBR,EAAOkD,MAAM,eAAgB,CAAE1C,MAAAA,IAgBnC,SAASgG,EAAMpI,GACX,MAAwB,iBAAVA,GAAsBA,EAAMqI,OAAS,GAAyC,OAApCrI,EAAMoG,MAAM,EAAG,GAAGkC,cAc9E,SAASC,EAAqBC,GACtBzF,EAAQO,wBACRP,EAAQO,wBAAwBmF,KAAKD,GAGrCzF,EAAQO,wBAA0B,CAACkF,GAEvCjE,EAAIR,EAAa,CAAET,wBAAyBP,EAAQO,0BAExD,SAASoF,EAAoBF,GACzB,GAAIzF,EAAQO,wBAAyB,CACjC,MAAMqF,EAAQ5F,EAAQO,wBAAwBsF,QAAQJ,GAClDG,GAAS,IACT5F,EAAQO,wBAAwBuF,OAAOF,EAAO,GACC,IAA3C5F,EAAQO,wBAAwB+E,SAChCtF,EAAQO,6BAA0BxC,GAEtCyD,EAAIR,EAAa,CAAET,wBAAyBP,EAAQO,4BAIhE,MAAMwF,EAAa,CACfC,cAAgBC,IACZpH,EAAOkD,MAAM,gBAAiB,CAAEkE,UAAAA,IAChCT,EAAqB,gBAEzBU,cAAgBD,IACZpH,EAAOkD,MAAM,gBAAiB,CAAEkE,UAAAA,IAChCN,EAAoB,gBAExBQ,SAAU,EAAGC,KAAAA,EAAMC,KAAAA,EAAMC,SAAAA,EAAUC,MAAAA,EAAOC,SAAAA,EAAU3F,KAAAA,EAAM5D,MAAAA,EAAO8F,QAAAA,EAAS0D,GAAAA,EAAIC,oBAAAA,MAE1E,GADA7H,EAAOkD,MAAM,WAAY,CAAEqE,KAAAA,EAAMC,KAAAA,EAAMC,SAAAA,EAAUC,MAAAA,EAAOC,SAAAA,EAAU3F,KAAAA,EAAM5D,MAAAA,EAAO8F,QAAAA,EAAS0D,GAAAA,IACpFL,EAAM,EAu1BlB,SAAwBC,EAAMtD,EAAS4D,GACnCC,GAAuBP,EAAMtD,EAAS4D,GAAI,GAx0BlCE,CAAeR,EAAMtD,EAfK,CACtBqD,KAAAA,EACAC,KAAAA,EACAS,cAAc,EACdC,OAAQ,UACRN,GAAAA,EACAF,MAAAA,EACAD,SAAUA,EAAShD,WACnBkD,SAAUA,EAASlD,WACnBzC,KAAAA,EACA5D,MAAOA,EAAMqG,WACboD,oBAAAA,EACAM,cAAe,EACfC,WAAW,IAInBtB,EAAoB,gBAExBuB,qBAAuBC,IACnBtI,EAAOkD,MAAM,uBAAwB,CAAEoF,WAAAA,IACvC3B,EAAqB,cAEzB4B,qBAAuBD,IACnBtI,EAAOkD,MAAM,uBAAwB,CAAEoF,WAAAA,IACvCxB,EAAoB,cAExB0B,oBAAsBC,IAClBzI,EAAOkD,MAAM,sBAAuB,CAAEuF,YAAAA,IACtC3B,EAAoB,cAExB4B,sBAAuB,EAAGlB,KAAAA,EAAMmB,aAAAA,EAActD,OAAAA,EAAQuD,UAAAA,EAAWC,SAAAA,MAC7D7I,EAAOkD,MAAM,sBAAuB,CAAEsE,KAAAA,EAAMmB,aAAAA,EAActD,OAAAA,EAAQuD,UAAAA,EAAWC,SAAAA,KAEjFC,sBAAuB,EAAGtB,KAAAA,EAAMmB,aAAAA,EAActD,OAAAA,EAAQuD,UAAAA,EAAWC,SAAAA,MAC7D7I,EAAOkD,MAAM,wBAAyB,CAAEsE,KAAAA,EAAMmB,aAAAA,EAActD,OAAAA,EAAQuD,UAAAA,EAAWC,SAAAA,KAEnFE,iBAAkB,EAAGxB,KAAAA,EAAMC,KAAAA,EAAMmB,aAAAA,EAActD,OAAAA,EAAQ2D,KAAAA,EAAMC,UAAAA,EAAWL,UAAAA,EAAWC,SAAAA,EAAUjB,GAAAA,EAAI1D,QAAAA,MAC7F,IAAIqB,EAAI2D,EAAIC,EAEZ,GADAnJ,EAAOkD,MAAM,mBAAoB,CAAEqE,KAAAA,EAAMC,KAAAA,EAAMmB,aAAAA,EAActD,OAAAA,EAAQ2D,KAAAA,EAAMC,UAAAA,EAAWL,UAAAA,EAAWC,SAAAA,EAAUjB,GAAAA,IACvGL,EAAM,CACN,IAAI6B,EACAR,GAAaA,EAAUlB,QACvB0B,EAAgB7E,SAASqE,EAAUlB,MAAMjD,aAiB7C4E,GAAkB7B,EAAMtD,EAfE,CACtBqD,KAAAA,EACAC,KAAAA,EACAS,cAAc,EACdU,aAAAA,EACAtD,OAAAA,EACA2D,KAAAA,EACAC,UAAAA,EACAJ,SAAAA,EACAjB,GAAAA,EACAF,MAAO0B,EACP3B,SAA8F,QAAnFlC,EAAKqD,MAAAA,OAA6C,EAASA,EAAUnB,gBAA6B,IAAPlC,OAAgB,EAASA,EAAGd,WAClIkD,SAA8F,QAAnFuB,EAAKN,MAAAA,OAA6C,EAASA,EAAUjB,gBAA6B,IAAPuB,OAAgB,EAASA,EAAGzE,WAClIrG,MAAwF,QAAhF+K,EAAKP,MAAAA,OAA6C,EAASA,EAAUxK,aAA0B,IAAP+K,OAAgB,EAASA,EAAG1E,aAE5E,MAIhE,SAAS6E,GAAgB1C,GACrB,IACI2C,aAAaC,QAAQ9G,EAAoCkE,GAE7D,MAAOrI,KAUX,SAASkL,GAAWlI,EAASmI,GACzB,OAAOhM,UAAUC,UAAM,OAAQ,EAAQ,YACnC,MAAMgM,EAAiBC,GAAqBF,GAC5C,IAAIxF,EACJ,GAAqB,SAAjBnD,EAAOV,MAAkB,CAEzB,IAAIwJ,EADJlH,EAAIL,EAAY,CAAEtB,YAAY,IAE9B,IAEI6I,SADwBF,EAAeG,cACX5F,QAEhC,MAAO3F,GACH,MAAMiC,EAAQ,CACVuJ,KAAMhK,EAASiK,gBACfC,QAAS,2BAUb,MARAtH,EAAIL,EAAY,CACZ9B,MAAAA,EACAQ,YAAY,EACZC,aAAa,EACbC,eAAWhC,EACXwF,eAAWxF,EACXmB,MAAO,SAEL,IAAI+D,MAAM5D,EAAMyJ,SAE1B/F,EAAUgG,OAAOL,GACjBlH,EAAIL,EAAY,CACZ4B,QAAAA,EACAlD,YAAY,EACZC,aAAa,EACbC,eAAWhC,EACXwF,eAAWxF,EACXmB,MAAO,mBAIX6D,EAAUnD,EAAOmD,QAErB,IAAKA,EAAS,CACV,MAAM1D,EAAQ,CACVuJ,KAAMhK,EAASoK,iBACfF,QAAS,qDAUb,MARAtH,EAAIL,EAAY,CACZ9B,MAAAA,EACAQ,YAAY,EACZC,aAAa,EACbC,eAAWhC,EACXwF,eAAWxF,EACXmB,MAAO,SAEL,IAAI+D,MAAM5D,EAAMyJ,SAE1BrF,GAAiBrD,EAAS2C,GAC1BlE,EAAO6E,IAAI,oCACLC,GAAUZ,EAAS3C,EAASmI,KAG1C,SAAS5E,GAAUZ,EAAS3C,EAASmI,GACjC,OAAOhM,UAAUC,UAAM,OAAQ,EAAQ,YACnC,MAAMgM,EAAiBC,GAAqBF,GAC5C/G,EAAIL,EAAY,CAAErB,aAAa,IAC/B,MAAMmJ,EAAiB,GACjB1F,EAAY,GAClB,IAAI2F,EAAiB,GACjBC,EAAe9G,EAInB,GAH4B,mBAAjB8G,IACPA,QAAqBA,EAAapG,IAElCoG,EAAc,CACd,GAAIA,EAAapG,QAAS,CACtB,MAAMqG,EAAcD,EACpB,GAAIpG,IAAYqG,EAAYrG,SAAWA,IAnM/CsC,EADWpI,EAoMyDmM,EAAYrG,SAlMzE,GAAKK,SAASnG,EAAMoG,MAAM,IAE9BpG,GAmMU,CACD,MAAMoC,EAAQ,CACVuJ,KAAMhK,EAASyK,2BACfP,0CAA2CM,EAAYrG,+BAA+BA,KAU1F,MARAvB,EAAIL,EAAY,CACZ9B,MAAAA,EACA0D,QAAAA,EACAS,cAAc,EACd3D,YAAY,EACZC,aAAa,EACbZ,MAAO,cAEL,IAAI+D,MAAM5D,EAAMyJ,SAftBI,EAAiBE,EAAYrJ,cAkBhC,CACD,MAAMuJ,EAAoBH,EACpBC,EAAcE,EAAkBvG,IAAYuG,EAnNlE,SAAerM,GACX,OAAIoI,EAAMpI,GACCA,EAEJ,KAAOmG,SAASnG,GAAOqG,SAAS,IA+MyCiG,CAAMxG,IAC1E,IAAKqG,EAAa,CACd,MAAM/J,EAAQ,CAAEuJ,KAAMhK,EAASyK,2BAA4BP,yCAA0C/F,KASrG,MARAvB,EAAIL,EAAY,CACZ9B,MAAAA,EACA0D,QAAAA,EACAS,cAAc,EACd3D,YAAY,EACZC,aAAa,EACbZ,MAAO,cAEL,IAAI+D,MAAM5D,EAAMyJ,SAGtBI,EAAiBE,EAAYrJ,UAGrC,IAAK,MAAMyH,KAAgBtJ,OAAOyD,KAAKuH,GAAiB,CACpD,MAAMM,EAAeN,EAAe1B,GAChCgC,EAAaC,MACb5K,EAAO6E,IAAI,CAAE8D,aAAAA,IACbyB,EAAezB,GAAgB9I,EAASgL,cAAc,IAAItL,EAAYuL,SAASH,EAAapJ,QAASoJ,EAAaC,IAAKjB,EAAeoB,UAAUxJ,IAAWoH,EAAczE,EAASgD,IAEtLxC,EAAUiE,GAAgBgC,EAAapJ,SAhPvD,IAAmBnD,EA2PX,GARAuE,EAAIL,EAAY,CACZjC,MAAO,QACPY,aAAa,EACbD,YAAY,EACZkD,QAAAA,EACAQ,UAAAA,EACAxD,UAAWkJ,IAEO,UAAlBjJ,EAAQd,QACRL,EAAO6E,IAAI,SAEPhB,QAAyC3E,IAAzByC,EAAMG,iBAAiCH,EAAME,WAAW,CACxE7B,EAAO6E,IAAI,oBACX,MAAMmG,EAAiBnH,EACvB,GAAIE,EAAO,CACP,IAAItF,EACJ,IACIuB,EAAO6E,IAAI,+BACXpG,EAASsF,EAAMqG,GAEnB,MAAO7L,GAEH,YADAoE,EAAIH,EAAW,CAAEV,eAAgBvD,EAAGsD,WAAW,IAG/C,SAAUpD,GACVkE,EAAIH,EAAW,CAAEhC,WAAOtB,EAAW4C,oBAAgB5C,EAAW2C,WAAW,IACzEpD,EACKE,KAAK,KACNgE,EAAIH,EAAW,CAAEZ,YAAY,EAAOpB,WAAOtB,EAAW4C,oBAAgB5C,EAAW2C,WAAW,IAC5FmJ,EAAeZ,GACfxG,OAAe1E,EACf4E,OAAc5E,EACd2E,OAAe3E,IAEd+L,MAAOC,IACRvI,EAAIH,EAAW,CAAEV,eAAgBoJ,EAAKrJ,WAAW,QAIrDc,EAAIH,EAAW,CAAEZ,YAAY,EAAOpB,WAAOtB,EAAW4C,oBAAgB5C,EAAW2C,WAAW,IAC5FgC,EAAauG,GACbxG,OAAe1E,EACf4E,OAAc5E,EACd2E,OAAe3E,QAInByD,EAAIH,EAAW,CAAEZ,YAAY,EAAOpB,WAAOtB,EAAW4C,oBAAgB5C,EAAW2C,WAAW,IAC5FgC,EAAauG,GACbxG,OAAe1E,EACf4E,OAAc5E,EACd2E,OAAe3E,KAMnC,SAAS0K,GAAqBF,GAC1B,QAAwBxK,IAApBmE,QAAmDnE,IAAlBoE,EAA6B,CAC9D,MAAM9C,EAAQ,CACVuJ,KAAMhK,EAASoL,kBACflB,QAAS,yBAUb,MARAtH,EAAIL,EAAY,CACZ9B,MAAAA,EACAQ,YAAY,EACZC,aAAa,EACbC,eAAWhC,EACXwF,eAAWxF,EACXmB,MAAO,SAEL,IAAI+D,MAAM5D,EAAMyJ,SAO1B,OAJQP,IACArG,EAAkBxD,EAASuL,kBAAkB,IAAI5L,EAAY6L,aAAa/H,GAAgB4D,IAG3F7D,EAEX,SAAS6B,GAAkB3D,GACvB,MAAMoI,EAAiBC,IAAqB,GACtC1I,EAAYH,EAAOG,UACzB,GAAKA,EAGL,IAAK,MAAMyH,KAAgBtJ,OAAOyD,KAAK5B,GACnCA,EAAUyH,GAAgBzH,EAAUyH,GAAc2C,QAAQ/J,EAAUoI,EAAeoB,UAAUxJ,GAAWoI,GAIhH,SAAS4B,GAAO3E,EAAM4E,GAClB,OAAO9N,UAAUC,UAAM,OAAQ,EAAQ,aAC/BwD,EAAQM,UAA+B,UAAlBN,EAAQd,OAAuC,WAAlBc,EAAQd,cACpDoL,MAEV,IAoGIzG,EApGA0G,EAAe9E,EACnB,IAAK8E,EACD,GAAwB,IAApBhI,EAAS+C,OACTiF,EAAe,cAEd,CAAA,GAAwB,IAApBhI,EAAS+C,OAGb,CACD,MAAMwD,2CAAmD9I,EAAQK,UAEjE,MAAM,IAAI4C,MAAM6F,GALhByB,EAAehI,EAAS,GAQhC,GAAoB,WAAhBgI,GAAgD,UAAnBtL,EAASC,QAAsBD,EAASG,UAAW,CAGhF,MAAM,IAAI6D,MAFM,qBAapB,GATAzB,EAAIR,EAAa,CACbZ,aAASrC,EACT8B,YAAY,EACZS,SAAUmF,EACVvG,MAAO,OACPG,WAAOtB,IAEXmE,OAAkBnE,EAClBoE,OAAgBpE,EACK,YAAjBwM,EAA4B,CAC5BjI,OAAiBvE,EACjB,MAAMyM,QAA4BC,KAClCtI,EAAgBqI,EAChBtI,EAAkBxD,EAASuL,kBAAkB,IAAI5L,EAAY6L,aAAaM,GAAsBzE,OAE/F,CACD,IAAIpI,EACJ,GAA4B,iBAAjB4M,GACP,GAAIhI,EACA,IAAK,MAAMmI,KAAUnI,EACK,iBAAXmI,GAAuBA,EAAOC,KAAOlF,IAC5C9H,EAAS+M,QAOrBjF,GADA9H,EAAS4M,GACKI,GAElB,IAAKhN,EAAQ,CACT,MAAMmL,qBAA6BrD,IAMnC,MALAjE,EAAIR,EAAa,CACb3B,MAAO,CAAEyJ,QAAAA,EAASF,KAAM,GACxBtI,cAAUvC,EACV8B,YAAY,IAEV,IAAIoD,MAAM6F,GAEpB,IACQ,SAAUnL,IAIV6D,EAAIR,EAAa,CAAEd,eAAe,IAClCvC,QAAeA,EAAOiN,OACtBpJ,EAAIR,EAAa,CAAEd,eAAe,KAGtCrB,EAAO6E,IAAI,qBACX,MAAMmB,aAAEA,SAAuBlH,EAAOkN,MAAMR,GAC5CxL,EAAO6E,IAAI,gBACXvB,EAAgB0C,EAChB3C,EAAkBxD,EAASuL,kBAAkB,IAAI5L,EAAY6L,aAAa/H,GAAgB4D,GAC1FzD,EAAiB3E,EAErB,MAAOP,GAYH,KAXkB,kBAAdA,EAAE0L,QACFtH,EAAIR,EAAa,CAAEnB,YAAY,EAAOS,cAAUvC,EAAWmC,eAAe,IAG1EsB,EAAIR,EAAa,CACb3B,MAAO,CAAEuJ,KAAMhK,EAASkM,aAAchC,QAAS1L,EAAE0L,SACjDxI,cAAUvC,EACV8B,YAAY,EACZK,eAAe,IAGjB9C,GAGd,IAAK8E,EAAiB,CAClB,MAAM4G,uCAA+CrD,IAMrD,MALAjE,EAAIR,EAAa,CACb3B,MAAO,CAAEyJ,QAAAA,EAASF,KAAM,GACxBtI,cAAUvC,EACV8B,YAAY,IAEV,IAAIoD,MAAM6F,GApcpB3G,IACAtD,EAAOkD,MAAM,gCACbI,EAAc6C,IAAM7C,EAAc6C,GAAG,UAAWE,GAChD/C,EAAc6C,IAAM7C,EAAc6C,GAAG,aAAcI,IAqcnD,IACI,GAAa,YAATK,GAA0C,aAApBxG,EAASK,OAC/BuE,QAAiBpF,EAAQsM,QAAQ,IAAM7I,EAAgB8I,eAAgB,CACnE3L,MAAO,uIAGV,CAEDR,EAAO6E,IAAI,wBACX,IACIG,QAAiB3B,EAAgB8I,eAErC,MAAO5N,GACH,GAAe,OAAXA,EAAEwL,KACF/J,EAAO6E,YAAYtG,EAAE6N,QAErBpH,EAAW,OAEV,CAAA,IAAgB,QAAZzG,EAAEwL,MAAiC,sBAAdxL,EAAE0L,QAU5B,MAAM1L,EATkB,UAApB6B,EAASK,OACTT,EAAO6E,IAAI,yDAGX7E,EAAO6E,IAAI,qBAEfG,EAAW,IAMnBhF,EAAO6E,iBAAiBG,MAGhC,MAAOzG,GAEH,MADAoE,EAAIR,EAAa,CAAE3B,MAAOjC,EAAGkD,cAAUvC,EAAW8B,YAAY,IACxDzC,EAGV+K,GAAgB1C,GAChB,MAAMrF,EAAUyD,GAAYA,EAAS,GACjCzD,GACAoB,EAAIR,EAAa,CACbZ,QAAAA,EACAlB,MAAO,QACPW,gBAAY9B,IAEhBgH,IACAlG,EAAO6E,IAAI,iCACL4E,GAAWlI,GAAS,KAG1B2E,IACAvD,EAAIR,EAAa,CACbZ,aAASrC,EACTmB,MAAO,SACPW,gBAAY9B,OAK5B,IAAIoB,GA+JAgB,GA2TA+K,GAzdJ,SAAST,KACL,OAAItL,KAGJA,GAAU,IAAItC,QAAQ,CAACC,EAASC,IAAWR,UAAUC,UAAM,OAAQ,EAAQ,YACvE,GAAuB,UAAnByC,EAASC,MACT,OAAOpC,IAEX0E,EAAIN,EAAc,CAAE/B,SAAS,IAC7B,IACI,MAAMgM,QAAiB3M,EAAU4M,gBAC7BD,GACAA,EAASE,4BAA6B,EACtCjJ,EAAuB+I,EACvB3J,EAAIN,EAAc,CACdhC,MAAO,QACPI,OAAQd,EAAU8M,UAAUH,GAC5B/L,WAAW,EACXD,SAAS,KAIbqC,EAAIN,EAAc,CACdhC,MAAO,QACPI,YAAQvB,EACRqB,WAAW,EACXD,SAAS,IAIrB,MAAO/B,GAOH,OANAoE,EAAIN,EAAc,CACd7B,MAAOjC,EAAE0L,SAAW1L,EACpBkC,YAAQvB,EACRqB,eAAWrB,EACXoB,SAAS,IAENpC,EAAOK,GAElBN,EAAQsF,OAahB,SAAS+H,GAAQ1E,EAAM4E,GACnB,OAAO9N,UAAUC,UAAM,OAAQ,EAAQ,YAEnC,aADM4N,GAAO3E,EAAM4E,GACG,WAAlBrK,EAAQd,OACDqM,OAKnB,SAASC,GAAiB5K,GACtB,MAAO,KAGHY,EAAIZ,EAAO,CAAEvB,WAAOtB,KAG5B,SAAS0N,GAAYC,GAhmBbvJ,GAAiBU,IACjBhE,EAAO6E,IAAI,mBACX7E,EAAOkD,MAAM,kCACbI,EAAcwJ,gBAAkBxJ,EAAcwJ,eAAe,eAAgB7I,GAC7EX,EAAcwJ,gBAAkBxJ,EAAcwJ,eAAe,kBAAmB7H,GAChFjB,GAAc,GAwBdV,IACAtD,EAAOkD,MAAM,qCACbI,EAAcwJ,gBAAkBxJ,EAAcwJ,eAAe,UAAWzG,GACxE/C,EAAcwJ,gBAAkBxJ,EAAcwJ,eAAe,aAAcvG,IAmkB/E5D,EAAIR,EAAa,CACb9B,MAAO,OACPkB,aAASrC,EACT8B,YAAY,EACZM,eAAWpC,EACXuC,cAAUvC,EACVsB,WAAOtB,IAEXiG,KACAxC,EAAIJ,EAAc,CACdlC,MAAO,OACPQ,YAAQ3B,EACRsB,WAAOtB,EACP4B,iBAAa5B,IAEjByD,EAAIL,EAAY,CACZpB,eAAWhC,EACXwF,eAAWxF,EACXmB,MAAO,OACPsE,kBAAczF,EACdgF,aAAShF,EACTsB,WAAOtB,IAEN2N,IACDlK,EAAIH,EAAW,CACXhC,WAAOtB,EACP2C,WAAW,EACXC,oBAAgB5C,EAChB0C,YAAY,IAEhBmC,OAAQ7E,EACR4E,OAAc5E,EACd2E,OAAe3E,EACf0E,OAAe1E,GAEnBoK,GAAgB,IAEpB,SAASmC,GAAWsB,GAChB,GAAI5L,EAAQC,cACR,MAAM,IAAIgD,MAAM,yBAEpB,MAAM4I,EAASD,GAAUA,EAAOC,OAC1BpH,EAAOmH,GAAUA,EAAOnH,KACxBiH,EAAWE,GAAUA,EAAOF,SAClC,OAAO,IAAI7O,QAAQ,CAACC,EAASC,KACzB,GAAIuF,EACA,GAAIuJ,EAAQ,CACR,IAAIC,EACJ,IACIA,EAAIxJ,EAAeuJ,SAEvB,MAAOzO,GACHL,EAAOK,GAEPqH,GAAQqH,GAAK,SAAUA,GACvBtK,EAAIR,EAAa,CAAEf,eAAe,IAClC6L,EAAEtO,KAAK,KACH8E,GAAkBA,EAAegI,aACjChI,OAAiBvE,EACjB0N,GAAYC,GACZlK,EAAIR,EAAa,CAAEf,eAAe,IAClCnD,MACDgN,MAAO1M,IACNoE,EAAIR,EAAa,CAAEf,eAAe,EAAOZ,MAAOjC,IAChDL,EAAOK,OAIXkF,EAAegI,aACfhI,OAAiBvE,EACjB0N,GAAYC,GACZ5O,UAIJwF,EAAegI,aACfhI,OAAiBvE,EACjB0N,GAAYC,GACZ5O,SAIJ2O,GAAYC,GACZ5O,MAKZ,SAASyO,KACL,GAAIpL,GACA,OAAOA,GAEX,IAAI4L,GAAW,EACf,MAAMD,EAAI,IAAIjP,QAAQ,CAACC,EAASC,IAAWR,UAAUC,UAAM,OAAQ,EAAQ,YAEvE,GAAsB,WAAlBwD,EAAQd,MAAoB,CAE5B,IAAI2E,EADJrC,EAAIR,EAAa,CAAEb,WAAW,IAE9B,IAEI0D,GADAA,QAAkB3B,MAAAA,OAAyD,EAASA,EAAgB8J,KAAK,sBAAuB,MACzG,GAE3B,MAAO5O,GACHyG,EAAW,GAEf,KAAIA,EAASyB,OAAS,GAclB,OAHA9D,EAAIR,EAAa,CAAEb,WAAW,IAC9BA,QAAYpC,EACZgO,GAAW,EACJjP,GAAQ,GAdM,CACrB,MAAMsD,EAAUyD,EAAS,GACzBrC,EAAIR,EAAa,CACbZ,QAAAA,EACAlB,MAAO,QACPiB,eAAWpC,IAEfc,EAAO6E,IAAI,iCACL4E,GAAWlI,GAAS,GAU9B,OAFAD,QAAYpC,EACZgO,GAAW,EACJjP,GAAQ,GAIf,OADAiP,GAAW,EACJhP,EAAO,IAAIkG,MAAM,kBAMhC,OAHK8I,IACD5L,GAAY2L,GAETA,EAEX,SAASG,KAGL,GAFApN,EAAO6E,IAAI,eACXlC,EAAIH,EAAW,CAAEV,oBAAgB5C,IACZ,UAAjB6B,EAAOV,OAAuC,UAAlBc,EAAQd,MAAmB,CACvD,GAAKU,EAAOG,UAGP,CACD,MAAMA,EAAYH,EAAOG,UACzB,GAAI6C,EAAO,CACP,IAAItF,EACJ,IACIuB,EAAO6E,IAAI,mBACXpG,EAASsF,EAAM7C,GAEnB,MAAO3C,GAEH,OADAoE,EAAIH,EAAW,CAAEV,eAAgBvD,EAAGsD,WAAW,IACxC7D,QAAQE,OAAOK,GAE1B,GAAI,SAAUE,EAEV,OADAkE,EAAIH,EAAW,CAAEX,WAAW,IACrBpD,EACFE,KAAK,KACNoF,OAAQ7E,EACRyD,EAAIH,EAAW,CAAEZ,YAAY,EAAOpB,WAAOtB,EAAW4C,oBAAgB5C,EAAW2C,WAAW,IACrFgC,GAAgBA,EAAa3C,KAEnC+J,MAAOC,IACRvI,EAAIH,EAAW,CAAEV,eAAgBoJ,EAAKrJ,WAAW,IAC1C7D,QAAQE,OAAOgN,KAKlC,OADArH,GAAgBA,EAAa3C,GACtBlD,QAAQC,UA7Bf,OAAOD,QAAQE,OAAO,qBAsD9B,MAtBsB,WAAlBiD,EAAQd,MACJsD,EAAQ0J,MAAQ1J,EAAQ0J,KAAKC,YAC7BZ,KAASzB,MAAOzK,IACZmC,EAAIH,EAAW,CAAEhC,MAAAA,MAQF,SAAlBW,EAAQd,OAA+C,IAA3Bc,EAAQK,QAAQiF,QAC7C9C,EAAQ0J,MAAQ1J,EAAQ0J,KAAKE,YAC7BjC,GAAQnK,EAAQK,QAAQ,IAAIyJ,MAAOzK,IAC/BmC,EAAIH,EAAW,CAAEhC,MAAAA,MAQxBoD,EAGEA,EAAajF,KAAK,SAAMO,GAFpBlB,QAAQC,UAIvB,SAASuP,GAAa5G,EAAM4E,GAIxB,OAHI7J,EAAMC,YACN6L,KAEGJ,QAAKnO,EAAW0H,EAAM4E,GAEjC,SAASkC,GAAaC,GAClB,OAAON,GAAKM,GAEhB,SAASN,GAAKM,EAAM/G,EAAM4E,GACtB,GAAI7J,EAAMC,WACN,MAAM,IAAIwC,MAAM,oBAEpB,GAAqB,UAAjBrD,EAAOV,OAAuC,UAAlBc,EAAQd,SAAuBuG,GAAQA,IAASzF,EAAQM,UAAW,CAI/F,GAHAqC,OAAc5E,EACd2E,OAAe3E,EACf0E,OAAe1E,EACV6B,EAAOG,UAGP,CACD,MAAMA,EAAYH,EAAOG,UACzB,GAAIyM,EAAM,CACN,IAAIlP,EACJ,IACIuB,EAAO6E,IAAI,oBACXpG,EAASkP,EAAKzM,GAElB,MAAO3C,GAEH,OADAoE,EAAIH,EAAW,CAAEV,eAAgBvD,EAAGsD,WAAW,IACxC7D,QAAQE,OAAOK,GAE1B,GAAI,SAAUE,EAGV,OAFAsF,EAAQ4J,EACRhL,EAAIH,EAAW,CAAEZ,YAAY,EAAMpB,WAAOtB,EAAW2C,WAAW,IACzDpD,EACFE,KAAK,KACNoF,OAAQ7E,EACRyD,EAAIH,EAAW,CAAEZ,YAAY,EAAOpB,WAAOtB,EAAW4C,oBAAgB5C,IAC/DgC,IAEN+J,MAAOC,IACRvI,EAAIH,EAAW,CAAEV,eAAgBoJ,EAAKrJ,WAAW,IAC1C7D,QAAQE,OAAOgN,KAIlC,OAAOlN,QAAQC,QAAQiD,GA7BvB,OAAOlD,QAAQE,OAAO,qBAgC9B,OAAI0F,IAGJG,EAAQ4J,EACRhL,EAAIH,EAAW,CAAEZ,YAAY,EAAMC,WAAW,EAAOC,oBAAgB5C,EAAWsB,WAAOtB,IACvF0E,EAAe,IAAI5F,QAAQ,CAACC,EAASC,KACjC2F,EAAe5F,EACf6F,EAAc5F,IAEd0I,GAAQA,IAASzF,EAAQM,SACrBN,EAAQM,SACRgK,GAAW,CAAEoB,UAAU,IAClB5B,MAAOzK,IACRmC,EAAIH,EAAW,CAAEhC,MAAAA,MAMhB7B,KAAK,KACN2M,GAAQ1E,EAAM4E,GAAcP,MAAOzK,IAC/BmC,EAAIH,EAAW,CAAEhC,MAAO,CAAEuJ,KAAM,GAAIE,gCAAiCrD,IAAQgH,YAAapN,KAE1FiL,SASRH,GAAQ1E,EAAM4E,GAAcP,MAAOzK,IAC/BmC,EAAIH,EAAW,CAAEhC,MAAO,CAAEuJ,KAAM,GAAIE,gCAAiCrD,IAAQgH,YAAapN,KAE1FiL,OAQe,WAAlBtK,EAAQd,MACTsD,EAAQ0J,MAAQ1J,EAAQ0J,KAAKC,YAC7BZ,KAASzB,MAAOzK,IACZmC,EAAIH,EAAW,CAAEhC,MAAAA,MAQF,SAAlBW,EAAQd,OAA+C,IAA3Bc,EAAQK,QAAQiF,QAC7C9C,EAAQ0J,MAAQ1J,EAAQ0J,KAAKE,YAC7BjC,GAAQnK,EAAQK,QAAQ,IAAIyJ,MAAOzK,IAC/BmC,EAAIH,EAAW,CAAEhC,MAAAA,MAQtBoD,GAEX,SAAS6J,KACD3J,GACAA,EAAY,CAAEiG,KAAM,EAAGE,QAAS,WAEpCrG,OAAe1E,EACf4E,OAAc5E,EACd2E,OAAe3E,EACf6E,OAAQ7E,EACRyD,EAAIH,EAAW,CAAEZ,YAAY,EAAOpB,WAAOtB,EAAW4C,oBAAgB5C,EAAW2C,WAAW,IAKhG,SAASwH,GAAkB7B,EAAMtD,EAAS4D,EAAI+F,GAE1C,IADc3L,EAAc4L,KAAM9O,GAAMA,EAAEuI,OAASO,EAAGP,MAElD,MAAM,IAAInD,MAAM,iDAEpB2D,GAAuBP,EAAMtD,EAAS4D,EAAI+F,GAE9C,SAAS9F,GAAuBP,EAAMtD,EAAS4D,EAAI+F,GAC/C,GAAI1M,EAAQI,SACRJ,EAAQI,QAAQmF,gBAAkBc,EAAKd,eACvC3F,EAAOmD,SACPA,IAAYnD,EAAOmD,QAAS,CAC5BlE,EAAO6E,IAAI,oBAAqBiD,GAChC,MAAMiG,EAAQ7L,EAAc4L,KAAM9O,GAAMA,EAAEuI,OAASO,EAAGP,MACtD,GAAIwG,EAAO,CACP,MAAMC,EAAgBD,EAChBE,EAAanG,EACnB,IAAK,MAAMjF,KAAOxD,OAAOyD,KAAKmL,IACtBJ,IAAcA,QAAmC3O,IAAvB8O,EAAcnL,MACxCmL,EAAcnL,GAAOoL,EAAWpL,SAKxCX,EAAc2E,KAAKiB,GAEvB,IACIyB,aAAaC,QAAQ/G,MAAsC+E,EAAKd,iBAAiBxC,IAAWf,KAAKC,UAAUlB,IAE/G,MAAO3D,IACP6D,EAAkBO,IAAIT,QAGtB,IACI,MAAMgM,EAAmBzL,MAAsC+E,EAAKd,iBAAiBxC,IAC/EiK,EAAyB5E,aAAa6E,QAAQF,IAAqB,KACnEG,EAAelL,KAAKmL,MAAMH,GAC1BJ,EAAQM,EAAaP,KAAM9O,GAAMA,EAAEuI,OAASO,EAAGP,MACrD,GAAIwG,EAAO,CACP,MAAMC,EAAgBD,EAChBE,EAAanG,EACnB,IAAK,MAAMjF,KAAOxD,OAAOyD,KAAKgF,KACpB+F,QAAmC3O,IAAvB8O,EAAcnL,IAAwBgL,QAAgC3O,IAApB+O,EAAWpL,MAC3EmL,EAAcnL,GAAOoL,EAAWpL,SAKxCwL,EAAaxH,KAAKiB,GAEtByB,aAAaC,QAAQ0E,EAAkB/K,KAAKC,UAAUiL,IAE1D,MAAO9P,KAGf,SAAS4G,KACLjD,EAAc+E,OAAO,EAAG/E,EAAcuE,QACtCrE,EAAkBO,IAAIT,GACtBqM,KAEJ,SAAS3J,GAAiBrD,EAAS2C,GAC/B,IACI,MAAMsK,EAAWjF,aAAa6E,QAAQ3L,MAAsClB,EAAQmF,iBAAiBxC,KACrG,IAAImK,EAAe,GACfG,IACAH,EAAelL,KAAKmL,MAAME,IAE9BtM,EAAc+E,OAAO,EAAG/E,EAAcuE,UAAW4H,GACjDjM,EAAkBO,IAAIT,GAM9B,SAA4BX,EAAS2C,GACjCqK,KACAE,GAAoBlN,EAAS2C,GAC7BmI,GAAqBqC,YAAY,IAAMD,GAAoBlN,EAAS2C,GAA+C,IAArCP,EAAQ0K,aAAaM,eAR/FC,CAAmBrN,EAAS2C,GAEhC,MAAO3F,KAQX,SAASgQ,KACDlC,KACAwC,cAAcxC,IACdA,QAAqBnN,GAG7B,IAAI4P,IAAa,EACjB,SAASL,GAAoBlN,EAAS2C,GAClC,OAAOxG,UAAUC,UAAM,OAAQ,EAAQ,YACnC,GAAImR,GAEA,OAEJA,IAAa,EACb,MAAMC,EAAwBpL,EAAQ0K,aAAaW,SAC7CC,EAAM/M,EAAcgN,SAC1B,IAAK,MAAMpH,KAAMmH,EAAK,CAElB,IAAK5L,EACD,MAEJ,GAAIlC,EAAQI,UAAYA,GAAWR,EAAOmD,UAAYA,EAClD,MAEJ,IAAKmI,GACD,MAEJ,IAAI8C,EACJ,IACIA,QAAoB9L,EAAgB+L,SAAS,UAEjD,MAAO7Q,GACHyB,EAAOQ,MAAMjC,GACb,MAEJ,GAAIuJ,EAAGM,UACH,SAGJ,IAAK/E,EACD,MAEJ,GAAIlC,EAAQI,UAAYA,GAAWR,EAAOmD,UAAYA,EAClD,MAEJ,IAAKmI,GACD,MAEJ,IAAIgD,EAAc,EAClB,GAAIF,EAAYG,QAAUP,EACtB,IACIM,QAAoBhM,EAAgBkM,oBAAoBhO,EAAS4N,EAAYG,OAASE,KAAKC,IAAI,EAAGV,GAAyB,GAE/H,MAAOxQ,GACHyB,EAAOQ,MAAMjC,GACb,MAIR,IAAK8E,EACD,MAEJ,GAAIlC,EAAQI,UAAYA,GAAWR,EAAOmD,UAAYA,EAClD,MAEJ,IAAKmI,GACD,MAEJ,IAkBIqD,EAlBAC,EAAe,EACnB,IACIA,QAAqBtM,EAAgBkM,oBAAoBhO,GAE7D,MAAOhD,GACHyB,EAAOQ,MAAMjC,GACb,MAGJ,IAAK8E,EACD,MAEJ,GAAIlC,EAAQI,UAAYA,GAAWR,EAAOmD,UAAYA,EAClD,MAEJ,IAAKmI,GACD,MAGJ,IACIqD,QAAgBrM,EAAgBuM,sBAAsB9H,EAAGP,MAE7D,MAAOhJ,GACHyB,EAAOQ,MAAMjC,GACb,SAGJ,GAAI4C,EAAQI,UAAYA,GAAWR,EAAOmD,UAAYA,EAClD,MAEJ,IAAKmI,GACD,MAEJ,MAAMwD,EAAkB,CACpBtI,KAAMO,EAAGP,MAEb,IAAIuI,GAAW,EACf,GAAKJ,GAAYA,EAAQK,UAqBpB,CACD,QAAuB7Q,IAAnBwQ,EAAQxH,OAAsB,CAC9B,MAAM8H,EAA6B,IAAnBN,EAAQxH,OACxB2H,EAAgB3H,OAAS8H,EAAU,UAAY,UAC3CA,IACAH,EAAgBI,OAAS,SAKzBP,EAAQzP,KAAKwG,OAAS,EACtBoJ,EAAgB3H,OAAS,UAGzB2H,EAAgB3H,OAAS,QAGjC,GAAIJ,EAAGmB,WAAayG,EAAQzP,KAAKwG,OAAS,EAAG,CACzC,MAAMyJ,EAAiB,IAAIzQ,EAAM0Q,UAAUrI,EAAGmB,WAC9C4G,EAAgBI,OAASP,EAAQzP,KAAKmQ,OAAO,CAACC,EAAUxL,KACpD,IAAIyL,EACJ,IACIA,EAASJ,EAAeK,SAAS1L,GAErC,MAAOtG,GACHyB,EAAOQ,MAAMjC,GAEjB,GAAI+R,EAAQ,CACR,MAAMtH,EAAO,GACb,IAAK,MAAMnG,KAAOxD,OAAOyD,KAAKwN,EAAOtH,MAAO,CACxC,MAAM5K,EAAQkS,EAAOtH,KAAKnG,GAC1BmG,EAAKnG,GAAOM,KAAKmL,MAAMnL,KAAKC,UAAUhF,IAE1C,MAAMoS,EAAQ,CACVxH,KAAAA,EACAoD,KAAMkE,EAAOlE,KACbqE,UAAWH,EAAOG,WAEtBJ,EAASxJ,KAAK2J,GAElB,OAAOH,GACR,IAEPR,EAAgBE,UAAYL,EAAQK,UACpCF,EAAgB1H,cAAgBuH,EAAQvH,cACpCuH,EAAQvH,eAAiB4G,IACzBc,EAAgBzH,WAAY,GACxBN,EAAGG,cAAgBtE,EAAQ0K,aAAaqC,cACxCZ,GAAW,SApEfT,EAAcvH,EAAGJ,OACjBmI,EAAgB3H,OAAS,YACzB2H,EAAgBzH,WAAY,EAC5ByH,EAAgB1H,cAAgBqH,KAAKC,IAAI,EAAGV,IACxCjH,EAAGG,cAAgBtE,EAAQ0K,aAAaqC,cACxCZ,GAAW,IAGVH,EAAe7H,EAAGJ,OACvBmI,EAAgB3H,OAAS,YACzB2H,EAAgB1H,cAAgB,IAGhC0H,EAAgB3H,OAAS,UACzB2H,EAAgB1H,cAAgB,GAEpC0H,EAAgBE,eAAY7Q,EAC5B2Q,EAAgB/O,iBAAc5B,EAC9B2Q,EAAgBI,YAAS/Q,EA0D7B,GAJI4I,EAAGI,SAAW2H,EAAgB3H,SAE9B2H,EAAgB5H,cAAe,GAE/B6H,EACAa,GAAkB7I,EAAGP,UAEpB,CACDsI,EAAgBe,UAAYzB,EAAY0B,UACxC,IACIxH,GAAkB9H,EAAS2C,EAAS2L,GAAiB,GAEzD,MAAOtR,GACHyB,EAAOQ,MAAMjC,KAIzBuQ,IAAa,IAGrB,SAAS6B,GAAkBpJ,GAEvB,GADAvH,EAAO6E,iBAAiB0C,KACpBpG,EAAQI,SAAWR,EAAOmD,QAAS,CACnC,MAAM4M,EAAa5O,EAAc6O,UAAW/R,GAAMA,EAAEuI,OAASA,GAC7DrF,EAAc+E,OAAO6J,EAAY,GACjC,IACIvH,aAAaC,QAAQ/G,MAAsCtB,EAAQI,QAAQmF,iBAAiB3F,EAAOmD,UAAWf,KAAKC,UAAUlB,IAEjI,MAAO3D,IACP6D,EAAkBO,IAAIT,IAI9BnD,EAAQiS,QAAU,CAACjE,KACfpJ,EAAU,CACNsN,QAAS,CACLC,YAAWnE,EAAOkE,SAAUlE,EAAOkE,QAAQC,WAE/C7D,KAAM,CACFE,cAAYR,EAAOM,OAAQN,EAAOM,KAAKE,YACvCD,cAAYP,EAAOM,OAAQN,EAAOM,KAAKC,aAE3CpK,MAAO6J,EAAO7J,QAAS,EACvBoH,aAAcyC,EAAOzC,aACrB9I,QAASuL,EAAOvL,SAAW,GAC3B2P,qBAAoBpE,EAAOoE,mBAC3BC,mBAAoBrE,EAAOqE,oBAAsB,GACjD/C,aAAc,CACVqC,YAAY3D,EAAOsB,mBAA0D,IAAnCtB,EAAOsB,aAAaqC,YACxD3D,EAAOsB,aAAaqC,WAE1B1B,SAAWjC,EAAOsB,cAAgBtB,EAAOsB,aAAaW,UAAa,GACnEL,cAAgB5B,EAAOsB,cAAgBtB,EAAOsB,aAAaM,eAAkB,MAGxEnN,SAAsC,IAA3BmC,EAAQnC,QAAQiF,SACpC9C,EAAQnC,QAAU,CAAC,YAEvBkB,EAAqCiB,EAAQyN,mBAAqB1O,EAClED,EAAkCkB,EAAQyN,mBAAqB3O,EAC/D,MAAMS,MAAEA,EAAKoH,aAAEA,EAAY2G,QAAEA,GAAYtN,EA8BzC,GA7BAH,EAAgB8G,EACZpH,GAA2B,oBAAX/C,SAEhBA,OAAOgB,QAAUA,EAEjBhB,OAAO+B,cAAgBA,GAE3BwB,EAAWC,EAAQnC,QACnBmB,EAAIR,EAAa,CACb9B,MAAO,OACPmB,QAASkC,EAAS2N,IAAKC,IACnB,GAAiB,iBAANA,EAAgB,CACvB,IAAKA,EAAExF,GACH,MAAM,IAAI1H,MAAM,2CAEpB,OAAOkN,EAAExF,GAEb,OAAOwF,MAGf3O,EAAIN,EAAc,CACdhC,MAAO,SAEXsC,EAAIL,EAAY,CACZjC,MAAO,SAEXsC,EAAIJ,EAAc,CACdlC,MAAO,SAEPH,EAAW,CACX,GAAI6M,EAAOoE,mBAAoB,CAC3B,MAAMvK,EAhnClB,WACI,IACI,OAAO2C,aAAa6E,QAAQ1L,GAEhC,MAAOnE,GACH,OAAO,MA2mCUgT,GACT3K,GAAiB,KAATA,GACR2E,GAAO3E,GAGXqK,EAAQC,WACRtF,KAGR,MAAO,CACHyC,aAAc,CACVmD,UAAWpP,EAAkBoP,UAC7BC,YAAYlK,EAAMW,GACd,GAAI/G,EAAQI,SAAWR,EAAOmD,QAAS,CACnC,MAAM6J,EAAQ7L,EAAc4L,KAAM9O,GAAMA,EAAEuI,OAASA,GACnD,GAAIwG,EACA,GAAIA,EAAM3F,UACNuI,GAAkBpJ,OAEjB,CACDwG,EAAM2D,mBAAqBxJ,EAC3B6F,EAAM9F,cAAe,EACrB,IACIsB,aAAaC,QAAQ/G,MAAsCtB,EAAQI,QAAQmF,iBAAiB3F,EAAOmD,UAAWf,KAAKC,UAAUlB,IAEjI,MAAO3D,IACP6D,EAAkBO,IAAIT,OAM1CyP,QAAS,CACLH,UAAWjP,EAAaiP,UACxB7E,iBAAkBA,GAAiBpK,IAEvCqP,MAAO,CACHJ,UAAWlP,EAAWkP,UACtB7E,iBAAkBA,GAAiBrK,IAEvC2O,QAAS,CACLO,UAAWnP,EAAamP,UACxB7E,iBAAkBA,GAAiBtK,GACnCwP,MAAOjG,IAEXkG,OAAQ,CACJN,UAAWrP,EAAYqP,UACvBlG,QAAAA,GACAoB,OAAAA,GACAC,iBAAkBA,GAAiBxK,GACnCsJ,WAAAA,GACAjK,cACI,OAAOL,EAAQK,SAEnBD,cACI,OAAOJ,EAAQI,SAEnB6D,eACI,OAAO/B,GAEX2C,mBACI,OAAO1C,GAEXsO,YACI,OAAO7Q,GAEXG,gBACI,OAAOH,EAAOG,WAElByQ,cACI,OAAOjR,EAASG,SAGxBwM,KAAM,CACFmE,UAAWhP,EAAUgP,UACrBO,QAASrE,GACTsE,MAAO5E,GACP6E,OAAQxE,GACRnC,QAASkC"}