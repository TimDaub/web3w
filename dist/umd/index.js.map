{"version":3,"sources":["index.js"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","factory","module","exports","v","require","undefined","define","amd","Object","defineProperty","contracts_1","providers_1","store_1","builtin_1","index_js_1","ethers_1","named_logs_1","errors_1","console","logs","isBrowser","window","$builtin","state","probing","available","error","vendor","$balance","fetching","stale","amount","blockNumber","$chain","connecting","loadingData","contracts","$wallet","disconnecting","loadingModule","unlocking","address","options","selected","pendingUserConfirmation","$flow","inProgress","executing","executionError","store","data","writable","$transactions","walletStore","transactionsStore","builtinStore","chainStore","balanceStore","flowStore","set","obj","key","keys","anyObj","anyStore","subKey","debug","JSON","stringify","_ethersProvider","_web3Provider","_builtinWeb3Provider","_chainConfigs","_currentModule","_options","_config","_flowPromise","_flowResolve","_flowReject","_call","_listenning","onChainChanged","chainId","warn","Error","providerSend","chainIdAsDecimal","parseInt","slice","toString","addresses","notSupported","log","loadChain","hasAccountsChanged","accounts","onAccountsChanged","reAssignContracts","provider","method","params","_a","request","sendAsync","bind","response","wait","ms","setTimeout","pollAccountsChanged","web3Provider","callback","listenForChanges","on","pollChainChanged","onConnect","connection","onDisconnect","isHex","length","toLowerCase","requestUserAttention","type","push","cancelUserAttention","index","indexOf","splice","_observers","onTxRequested","transaction","onTxCancelled","onTxSent","onSignatureRequested","message","onSignatureCancelled","onSignatureReceived","signature","onContractTxRequested","name","overrides","outcome","onContractTxCancelled","onContractTxSent","hash","tx","addTransaction","LOCAL_STORAGE_SLOT","recordSelection","localStorage","setItem","setupChain","newProviderRequired","ethersProvider","ensureEthersProvider","chainIdAsNumber","getNetwork","code","CHAIN_ID_FAILED","String","CHAIN_ID_NOT_SET","contractsToAdd","contractsInfos","chainConfigs","chainConfig","CHAIN_CONFIG_NOT_AVAILABLE","multichainConfigs","toHex","contractName","contractInfo","abi","proxyContract","Contract","getSigner","oldFlowResolve","catch","err","CHAIN_NO_PROVIDER","proxyWeb3Provider","Web3Provider","connect","select","moduleConfig","disconnect","typeOrModule","builtinWeb3Provider","probeBuiltin","choice","id","load","setup","MODULE_ERROR","timeout","listAccounts","ethereum","fetchEthereum","autoRefreshOnNetworkChange","getVendor","unlock","acknowledgeError","_disconnect","keepFlow","removeListener","config","logout","p","resolved","send","flow_retry","flow","autoUnlock","autoSelect","flow_connect","flow_cancel","flow_execute","func","errorObject","default","assign","builtin","autoProbe","map","m","autoSelectPrevious","getItem","transactions","subscribe","balance","chain","probe","wallet","execute","retry","cancel"],"mappings":"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"}